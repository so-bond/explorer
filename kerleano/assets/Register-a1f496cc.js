import{_ as $,R as S}from"./RegisterDetails-dac24592.js";import{A as h,r as g,l as b,O as R,H as c,P as u,Q as e,R as w,U as k,W as d,X as N,Y as L,Z as B,z as C,$ as P,a0 as E,a1 as I,a2 as V,a3 as D,M as r,K as p,a4 as m,y as z,J as F}from"./index-2e40c82e.js";import{u as y}from"./index-ce508271.js";import{V as H}from"./VAvatar-bfbdc13b.js";import{V as f,a as x,b as M}from"./VExpansionPanel-cbfdacbc.js";const T=a=>(E("data-v-219758ba"),a=a(),I(),a),A={key:0,class:"w-100"},J=T(()=>e("thead",null,[e("tr",null,[e("th",null,"controlled by"),e("th",null,"holder address"),e("th",null,"balance")])],-1)),K={class:"text-caption"},O={class:"text-caption"},Q={key:1},U=h({__name:"RegisterInvestors",props:{address:String},setup(a){const _=a,s=g(void 0),t=g([]),l=g(""),i=async o=>{try{o?(s.value=await N(o),t.value=await L(o)):(s.value=void 0,t.value=[],l.value="No register selected")}catch(n){console.log("Exception when loading the register",n),s.value=void 0,t.value=[],l.value=n.message}};return b(()=>_.address,async o=>{l.value="Loading holders...",await i(o),l.value=""}),R(()=>{l.value="Loading holders...",i(_.address).then(()=>{l.value=""})}),(o,n)=>s.value&&t.value.length>0?(c(),u("table",A,[J,e("tbody",null,[(c(!0),u(w,null,k(t.value,v=>(c(),u("tr",{key:v.address},[e("td",K,d(v.custodian),1),e("td",{class:B(["text-caption",v.allowed?"":"text-decoration-line-through"])},d(v.address),3),e("td",O,d(C(P)(v.balance*s.value.unitValue))+" "+d(s.value.currency),1)]))),128))])])):(c(),u("div",Q,d(l.value),1))}});const W=V(U,[["__scopeId","data-v-219758ba"]]),X=a=>(E("data-v-b368cd20"),a=a(),I(),a),Y={key:0},Z=X(()=>e("thead",null,[e("tr",null,[e("th",null,"id"),e("th",null,"event")])],-1)),j={class:"text-caption",style:{width:"85px","vertical-align":"top"}},q={class:"text-caption"},G={key:1},ee=h({__name:"RegisterEvents",props:{address:String},setup(a){const _=a,s=g([]),t=g(""),l=async i=>{try{i?s.value=await D(i):(s.value=[],t.value="No register selected")}catch(o){console.log("Exception when loading the register",o),s.value=[],t.value=o.message}};return b(()=>_.address,async i=>{t.value="Loading events...",await l(i),t.value=""}),R(()=>{t.value="Loading events...",l(_.address).then(()=>{t.value=""})}),(i,o)=>t.value?(c(),u("div",G,d(t.value),1)):(c(),u("table",Y,[Z,e("tbody",null,[(c(!0),u(w,null,k(s.value,n=>(c(),u("tr",{key:n.id},[e("td",j,[r($,{type:"block",id:n.blockNumber},{default:p(()=>[m(d(n.blockNumber),1)]),_:2},1032,["id"]),m(" / "+d(n.logIndex),1)]),e("td",q,d(n.display),1)]))),128))])]))}});const se=V(ee,[["__scopeId","data-v-b368cd20"]]),re=h({__name:"Register",setup(a){console.log("Register.vue",y().params.address);let _=y().params.address.toString();const s=z(()=>_);return(t,l)=>(c(),F(H,null,{default:p(()=>[r(S,{address:s.value},null,8,["address"]),r(M,{multiple:""},{default:p(()=>[r(f,{class:"mt-4",title:"Holders",eager:""},{default:p(()=>[r(x,null,{default:p(()=>[r(W,{address:s.value},null,8,["address"])]),_:1})]),_:1}),r(f,{class:"mt-4",title:"Events",eager:""},{default:p(()=>[r(x,null,{default:p(()=>[r(se,{address:s.value},null,8,["address"])]),_:1})]),_:1})]),_:1})]),_:1}))}});export{re as default};
