import{V as U,t as b,a as C,b as Ie,c as Ae,d as M,e as F,f as Pe,g as we,l as Ne,h as Le,i as Ee}from"./VExpansionPanel-c36f1704.js";import{e as A,f as N,h as P,m as L,i as k,j as q,d as E,o as p,k as y,l as $e,c as $,w as l,n as d,p as Re,q as De,s as Te,t as R,a,v as D,I,x as J,y as w,R as je,z as Be,A as Oe,B as Ue,C as Me,D as Fe,E as Ge,F as ze,G as Ke,H as He,J as We,K as Xe,L as qe,M as Je,N as Ye,O as Qe,P as Ze,Q as et,S as tt,T as at,U as nt,W as lt,X as st,Y as it,Z as dt,_ as ot,$ as ut,a0 as x,a1 as rt,a2 as ct,a3 as r,a4 as m,a5 as ft,a6 as v,a7 as G,a8 as z,a9 as vt,aa as gt,ab as mt,ac as pt,u as K}from"./index-99f4481d.js";const Y=(()=>A.reduce((e,o)=>(e[o]={type:[Boolean,String,Number],default:!1},e),{}))(),Q=(()=>A.reduce((e,o)=>{const t="offset"+N(o);return e[t]={type:[String,Number],default:null},e},{}))(),Z=(()=>A.reduce((e,o)=>{const t="order"+N(o);return e[t]={type:[String,Number],default:null},e},{}))(),H={col:Object.keys(Y),offset:Object.keys(Q),order:Object.keys(Z)};function _t(e,o,t){let n=e;if(!(t==null||t===!1)){if(o){const i=o.replace(e,"");n+=`-${i}`}return e==="col"&&(n="v-"+n),e==="col"&&(t===""||t===!0)||(n+=`-${t}`),n.toLowerCase()}}const yt=["auto","start","end","center","baseline","stretch"],u=P()({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...Y,offset:{type:[String,Number],default:null},...Q,order:{type:[String,Number],default:null},...Z,alignSelf:{type:String,default:null,validator:e=>yt.includes(e)},...L()},setup(e,o){let{slots:t}=o;const n=k(()=>{const i=[];let s;for(s in H)H[s].forEach(f=>{const _=e[f],c=_t(s,f,_);c&&i.push(c)});const g=i.some(f=>f.startsWith("v-col-"));return i.push({"v-col":!g||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),i});return()=>{var i;return q(e.tag,{class:n.value},(i=t.default)==null?void 0:i.call(t))}}}),T=["start","end","center"],ee=["space-between","space-around","space-evenly"];function j(e,o){return A.reduce((t,n)=>{const i=e+N(n);return t[i]=o(),t},{})}const ht=[...T,"baseline","stretch"],te=e=>ht.includes(e),ae=j("align",()=>({type:String,default:null,validator:te})),kt=[...T,...ee],ne=e=>kt.includes(e),le=j("justify",()=>({type:String,default:null,validator:ne})),bt=[...T,...ee,"stretch"],se=e=>bt.includes(e),ie=j("alignContent",()=>({type:String,default:null,validator:se})),W={align:Object.keys(ae),justify:Object.keys(le),alignContent:Object.keys(ie)},Ct={align:"align",justify:"justify",alignContent:"align-content"};function St(e,o,t){let n=Ct[e];if(t!=null){if(o){const i=o.replace(e,"");n+=`-${i}`}return n+=`-${t}`,n.toLowerCase()}}const Vt=P()({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:te},...ae,justify:{type:String,default:null,validator:ne},...le,alignContent:{type:String,default:null,validator:se},...ie,...L()},setup(e,o){let{slots:t}=o;const n=k(()=>{const i=[];let s;for(s in W)W[s].forEach(g=>{const f=e[g],_=St(s,g,f);_&&i.push(_)});return i.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),i});return()=>{var i;return q(e.tag,{class:["v-row",n.value]},(i=t.default)==null?void 0:i.call(t))}}});var de=(e=>(e[e.Draft=0]="Draft",e[e.Ready=1]="Ready",e[e.Issued=2]="Issued",e[e.Repaid=3]="Repaid",e[e.Frozen=4]="Frozen",e))(de||{});const xt=["href"],X=E({__name:"ExplorerRedirect",props:{id:{type:[String,Number]},type:{type:String,required:!0,validator(e){return["block","tx","token","account"].includes(e)}}},setup(e){const o=e;function t(){const s=window;if(s.AppConfig&&s.AppConfig.explorerUrl)return s.AppConfig.explorerUrl}const n=k(()=>{let s=t();if(!s)return"./";for(;s.endsWith("/");)s=s.slice(0,s.length-1);return new URL(`${o.type}/${o.id}`,`${s}/`).href});function i(s){window.open(s,"POCR-EXPLORER")}return(s,g)=>(p(),y("span",null,[s.$slots.default?(p(),y("a",{key:0,href:n.value,target:"POCR-EXPLORER"},[$e(s.$slots,"default")],8,xt)):(p(),$(Re,{key:1,small:"",color:"blue",onClick:g[0]||(g[0]=f=>i(n.value))},{default:l(()=>[d("mdi-open-in-new")]),_:1}))]))}});const It=De({name:"VCardActions",setup(e,o){let{slots:t}=o;return Te({VBtn:{variant:"text"}}),R(()=>{var n;return a("div",{class:"v-card-actions"},[(n=t.default)==null?void 0:n.call(t)])}),{}}}),oe=D("v-card-subtitle"),At=D("v-card-title"),Pt=P()({name:"VCardItem",props:{appendAvatar:String,appendIcon:I,prependAvatar:String,prependIcon:I,subtitle:String,title:String,...J()},setup(e,o){let{slots:t}=o;return R(()=>{var c;const n=!!(e.prependAvatar||e.prependIcon),i=!!(n||t.prepend),s=!!(e.appendAvatar||e.appendIcon),g=!!(s||t.append),f=!!(e.title||t.title),_=!!(e.subtitle||t.subtitle);return a("div",{class:"v-card-item"},[i&&a("div",{key:"prepend",class:"v-card-item__prepend"},[t.prepend?a(w,{key:"prepend-defaults",disabled:!n,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},t.prepend):n&&a(U,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),a("div",{class:"v-card-item__content"},[f&&a(At,{key:"title"},{default:()=>{var h;return[((h=t.title)==null?void 0:h.call(t))??e.title]}}),_&&a(oe,{key:"subtitle"},{default:()=>{var h;return[((h=t.subtitle)==null?void 0:h.call(t))??e.subtitle]}}),(c=t.default)==null?void 0:c.call(t)]),g&&a("div",{key:"append",class:"v-card-item__append"},[t.append?a(w,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},t.append):s&&a(U,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),ue=D("v-card-text"),wt=P()({name:"VCard",directives:{Ripple:je},props:{appendAvatar:String,appendIcon:I,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:I,ripple:{type:Boolean,default:!0},subtitle:String,text:String,title:String,...Be(),...Oe(),...J(),...Ue(),...Me(),...Fe(),...Ge(),...ze(),...Ke(),...He(),...L(),...We({variant:"elevated"})},setup(e,o){let{attrs:t,slots:n}=o;const{themeClasses:i}=Xe(e),{borderClasses:s}=qe(e),{colorClasses:g,colorStyles:f,variantClasses:_}=Je(e),{densityClasses:c}=Ye(e),{dimensionStyles:h}=Qe(e),{elevationClasses:ce}=Ze(e),{loaderClasses:fe}=et(e),{locationStyles:ve}=tt(e),{positionClasses:ge}=at(e),{roundedClasses:me}=nt(e),S=lt(e,t),pe=k(()=>e.link!==!1&&S.isLink.value),V=k(()=>!e.disabled&&e.link!==!1&&(e.link||S.isClickable.value));return R(()=>{const _e=pe.value?"a":e.tag,ye=!!(n.title||e.title),he=!!(n.subtitle||e.subtitle),ke=ye||he,be=!!(n.append||e.appendAvatar||e.appendIcon),Ce=!!(n.prepend||e.prependAvatar||e.prependIcon),Se=!!(n.image||e.image),Ve=ke||Ce||be,xe=!!(n.text||e.text);return st(a(_e,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":V.value},i.value,s.value,g.value,c.value,ce.value,fe.value,ge.value,me.value,_.value],style:[f.value,h.value,ve.value],href:S.href.value,onClick:V.value&&S.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var B;return[Se&&a("div",{key:"image",class:"v-card__image"},[n.image?a(w,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):a(dt,{key:"image-img",cover:!0,src:e.image},null)]),a(ot,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:n.loader}),Ve&&a(Pt,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:n.item,prepend:n.prepend,title:n.title,subtitle:n.subtitle,append:n.append}),xe&&a(ue,{key:"text"},{default:()=>{var O;return[((O=n.text)==null?void 0:O.call(n))??e.text]}}),(B=n.default)==null?void 0:B.call(n),n.actions&&a(It,null,{default:n.actions}),ut(V.value,"v-card")]}}),[[it("ripple"),V.value&&e.ripple]])}),{}}}),re=e=>(gt("data-v-78522930"),e=e(),mt(),e),Nt={key:0},Lt={key:0,class:"w-100"},Et=re(()=>v("thead",null,[v("tr",null,[v("th",null,"control by"),v("th",null,"holder address"),v("th",null,"balance")])],-1)),$t={class:"text-caption"},Rt={class:"text-caption"},Dt={key:1},Tt=re(()=>v("thead",null,[v("tr",null,[v("th",null,"id"),v("th",null,"event")])],-1)),jt={class:"text-caption",style:{width:"85px","vertical-align":"top"}},Bt={class:"text-caption"},Ot={key:1},Ut=E({__name:"RegisterDetails",props:{address:String},setup(e){const o=e,t=x(void 0),n=x([]),i=x([]),s=x(""),g=async f=>{s.value="";try{f?(t.value=await we(f),n.value=await Ne(f),i.value=await Le(f)):(t.value=void 0,n.value=[],i.value=[],s.value="No register selected")}catch(_){console.log("Exception when loading the register",_),t.value=void 0,n.value=[],i.value=[],s.value=_.message}};return rt(()=>o.address,async f=>{await g(f)}),ct(()=>{g(o.address)}),(f,_)=>t.value?(p(),y("div",Nt,[t.value?(p(),$(wt,{key:0},{default:l(()=>[a(oe,null,{default:l(()=>[d("address: "+r(e.address),1),a(X,{type:"token",id:e.address},null,8,["id"])]),_:1}),a(ue,null,{default:l(()=>[a(Vt,null,{default:l(()=>[a(u,{cols:"2"},{default:l(()=>[d("Name:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(t.value.name),1)]),_:1}),a(u,{cols:"2"},{default:l(()=>[d("ISIN:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(t.value.isin),1)]),_:1}),a(u,{cols:"2"},{default:l(()=>[d("Units:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(m(b)(t.value.expectedSupply))+" x "+r(m(b)(t.value.unitValue))+" "+r(t.value.currency),1)]),_:1}),a(u,{cols:"2"},{default:l(()=>[d("Supply expected:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(m(b)(t.value.expectedSupply*t.value.unitValue))+" "+r(t.value.currency),1)]),_:1}),a(u,{cols:"2"},{default:l(()=>[d("Coupon rate:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(t.value.couponRate)+" % p.a.",1)]),_:1}),a(u,{cols:"2"},{default:l(()=>[d("Current supply:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(m(b)(t.value.currentSupply*t.value.unitValue))+" "+r(t.value.currency),1)]),_:1}),a(u,{cols:"2"},{default:l(()=>[d("Status:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(m(de)[t.value.status]),1)]),_:1}),a(u,{cols:"2"},{default:l(()=>[d("Creation:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(m(C)(t.value.creationDate)),1)]),_:1}),a(u,{cols:"2"},{default:l(()=>[d("Issuance:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(m(C)(t.value.issuanceDate)),1)]),_:1}),a(u,{cols:"2"},{default:l(()=>[d("Maturity:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(m(C)(t.value.maturityDate)),1)]),_:1}),a(u,{cols:"2"},{default:l(()=>[d("Coupons:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(t.value.couponDates.map(c=>m(C)(c)).join(" | ")),1)]),_:1}),a(u,{cols:"2"},{default:l(()=>[d("Record time:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(m(Ie)(t.value.cutOffTime)),1)]),_:1}),a(u,{cols:"2"},{default:l(()=>[d("Next coupon date:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(m(C)(t.value.currentCouponDate)),1)]),_:1}),a(u,{cols:"2"},{default:l(()=>[d("Next snapshot at:")]),_:1}),a(u,{cols:"4"},{default:l(()=>[d(r(m(Ae)(t.value.currentSnapshotTimestamp)),1)]),_:1})]),_:1})]),_:1})]),_:1})):ft("",!0),a(Pe,null,{default:l(()=>[a(M,{class:"mt-4",title:"Holders"},{default:l(()=>[a(F,null,{default:l(()=>[i.value.length>0?(p(),y("table",Lt,[Et,v("tbody",null,[(p(!0),y(G,null,z(i.value,c=>(p(),y("tr",{key:c.address},[v("td",$t,r(c.custodian),1),v("td",{class:vt(["text-caption",c.allowed?"":"text-decoration-line-through"])},r(c.address),3),v("td",Rt,r(m(b)(c.balance*t.value.unitValue))+" "+r(t.value.currency),1)]))),128))])])):(p(),y("div",Dt,"No investor"))]),_:1})]),_:1}),a(M,{class:"mt-4",title:"Events"},{default:l(()=>[a(F,null,{default:l(()=>[v("table",null,[Tt,v("tbody",null,[(p(!0),y(G,null,z(n.value,c=>(p(),y("tr",{key:c.id},[v("td",jt,[a(X,{type:"block",id:c.blockNumber},{default:l(()=>[d(r(c.blockNumber),1)]),_:2},1032,["id"]),d(" / "+r(c.logIndex),1)]),v("td",Bt,r(c.display),1)]))),128))])])]),_:1})]),_:1})]),_:1})])):(p(),y("div",Ot,r(s.value),1))}});const Mt=pt(Ut,[["__scopeId","data-v-78522930"]]),zt=E({__name:"Register",setup(e){console.log("Register.vue",K().params.address);let o=K().params.address.toString();const t=k(()=>o);return(n,i)=>(p(),$(Ee,null,{default:l(()=>[a(Mt,{address:t.value},null,8,["address"])]),_:1}))}});export{zt as default};
