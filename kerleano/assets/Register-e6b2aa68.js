import{A as m,r as g,l as R,P as b,J as i,Q as u,R as t,U as k,W as w,X as c,Y as N,Z as S,$ as B,a0 as h,N as r,z as L,a1 as C,a2 as E,a3 as $,a4 as I,a5 as P,M as v,y as D,K as z,a6 as F}from"./index-2a6724f9.js";import{_ as V,R as G}from"./RegisterDetails-65d02acf.js";import{u as f}from"./index-95f8aba3.js";import{V as H}from"./VAvatar-17b64771.js";import{V as y,a as x,b as M}from"./VExpansionPanel-d6220a70.js";const T=n=>(E("data-v-3d9cd5fe"),n=n(),$(),n),A={key:0,class:"w-100"},J=T(()=>t("thead",null,[t("tr",null,[t("th",null,"Registered by"),t("th",null,"Holder address"),t("th",{class:"align-end"},"Balance")])],-1)),K={class:"text-caption align-center"},Q={class:"text-caption align-end"},U={key:1},W=m({__name:"RegisterInvestors",props:{address:String},setup(n){const _=n,e=g(void 0),s=g([]),l=g(""),a=async o=>{try{o?(e.value=await N(o),s.value=await S(o)):(e.value=void 0,s.value=[],l.value="No register selected")}catch(d){console.log("Exception when loading the register",d),e.value=void 0,s.value=[],l.value=d.message}};return R(()=>_.address,async o=>{l.value="Loading holders...",await a(o),l.value=""}),b(()=>{l.value="Loading holders...",a(_.address).then(()=>{l.value=""})}),(o,d)=>e.value&&s.value.length>0?(i(),u("table",A,[J,t("tbody",null,[(i(!0),u(k,null,w(s.value,p=>(i(),u("tr",{key:p.address},[t("td",K,c(p.custodian),1),t("td",{class:B(["text-caption align-center",p.allowed?"":"text-decoration-line-through"])},[h(c(p.address),1),r(V,{type:"account",id:p.address},null,8,["id"])],2),t("td",Q,c(L(C)(p.balance*e.value.unitValue))+" "+c(e.value.currency),1)]))),128))])])):(i(),u("div",U,c(l.value),1))}});const X=I(W,[["__scopeId","data-v-3d9cd5fe"]]),Y=n=>(E("data-v-b368cd20"),n=n(),$(),n),Z={key:0},j=Y(()=>t("thead",null,[t("tr",null,[t("th",null,"id"),t("th",null,"event")])],-1)),q={class:"text-caption",style:{width:"85px","vertical-align":"top"}},O={class:"text-caption"},ee={key:1},se=m({__name:"RegisterEvents",props:{address:String},setup(n){const _=n,e=g([]),s=g(""),l=async a=>{try{a?e.value=await P(a):(e.value=[],s.value="No register selected")}catch(o){console.log("Exception when loading the register",o),e.value=[],s.value=o.message}};return R(()=>_.address,async a=>{s.value="Loading events...",await l(a),s.value=""}),b(()=>{s.value="Loading events...",l(_.address).then(()=>{s.value=""})}),(a,o)=>s.value?(i(),u("div",ee,c(s.value),1)):(i(),u("table",Z,[j,t("tbody",null,[(i(!0),u(k,null,w(e.value,d=>(i(),u("tr",{key:d.id},[t("td",q,[r(V,{type:"block",id:d.blockNumber},{default:v(()=>[h(c(d.blockNumber),1)]),_:2},1032,["id"]),h(" / "+c(d.logIndex),1)]),t("td",O,c(d.display),1)]))),128))])]))}});const te=I(se,[["__scopeId","data-v-b368cd20"]]),de=m({__name:"Register",setup(n){console.log("Register.vue",f().params.address);let _=f().params.address.toString();const e=D(()=>_);function s(l,a){F(l,a)}return(l,a)=>(i(),z(H,null,{default:v(()=>[r(G,{address:e.value},null,8,["address"]),r(M,{multiple:""},{default:v(()=>[r(y,{class:"mt-4",title:"Holders",eager:"","onGroup:selected":a[0]||(a[0]=o=>s("register-holders",{address:e.value}))},{default:v(()=>[r(x,null,{default:v(()=>[r(X,{address:e.value},null,8,["address"])]),_:1})]),_:1}),r(y,{class:"mt-4",title:"Events",eager:"","onGroup:selected":a[1]||(a[1]=o=>s("register-events",{address:e.value}))},{default:v(()=>[r(x,null,{default:v(()=>[r(te,{address:e.value},null,8,["address"])]),_:1})]),_:1})]),_:1})]),_:1}))}});export{de as default};
