import{_ as R,R as S}from"./RegisterDetails-0926d562.js";import{A as m,r as g,l as b,O as w,H as c,P as u,Q as e,R as k,U as E,W as r,X as N,Y as B,Z as L,$ as h,M as o,z as C,a0 as P,a1 as I,a2 as V,a3 as $,a4 as D,K as p,y as H,J as z}from"./index-c16c84db.js";import{u as f}from"./index-71e6601f.js";import{V as F}from"./VAvatar-e8ca4e30.js";import{V as y,a as x,b as M}from"./VExpansionPanel-10466b49.js";const T=a=>(I("data-v-3d9cd5fe"),a=a(),V(),a),A={key:0,class:"w-100"},J=T(()=>e("thead",null,[e("tr",null,[e("th",null,"Registered by"),e("th",null,"Holder address"),e("th",{class:"align-end"},"Balance")])],-1)),K={class:"text-caption align-center"},O={class:"text-caption align-end"},Q={key:1},U=m({__name:"RegisterInvestors",props:{address:String},setup(a){const _=a,s=g(void 0),t=g([]),l=g(""),i=async n=>{try{n?(s.value=await N(n),t.value=await B(n)):(s.value=void 0,t.value=[],l.value="No register selected")}catch(d){console.log("Exception when loading the register",d),s.value=void 0,t.value=[],l.value=d.message}};return b(()=>_.address,async n=>{l.value="Loading holders...",await i(n),l.value=""}),w(()=>{l.value="Loading holders...",i(_.address).then(()=>{l.value=""})}),(n,d)=>s.value&&t.value.length>0?(c(),u("table",A,[J,e("tbody",null,[(c(!0),u(k,null,E(t.value,v=>(c(),u("tr",{key:v.address},[e("td",K,r(v.custodian),1),e("td",{class:L(["text-caption align-center",v.allowed?"":"text-decoration-line-through"])},[h(r(v.address),1),o(R,{type:"account",id:v.address},null,8,["id"])],2),e("td",O,r(C(P)(v.balance*s.value.unitValue))+" "+r(s.value.currency),1)]))),128))])])):(c(),u("div",Q,r(l.value),1))}});const W=$(U,[["__scopeId","data-v-3d9cd5fe"]]),X=a=>(I("data-v-b368cd20"),a=a(),V(),a),Y={key:0},Z=X(()=>e("thead",null,[e("tr",null,[e("th",null,"id"),e("th",null,"event")])],-1)),j={class:"text-caption",style:{width:"85px","vertical-align":"top"}},q={class:"text-caption"},G={key:1},ee=m({__name:"RegisterEvents",props:{address:String},setup(a){const _=a,s=g([]),t=g(""),l=async i=>{try{i?s.value=await D(i):(s.value=[],t.value="No register selected")}catch(n){console.log("Exception when loading the register",n),s.value=[],t.value=n.message}};return b(()=>_.address,async i=>{t.value="Loading events...",await l(i),t.value=""}),w(()=>{t.value="Loading events...",l(_.address).then(()=>{t.value=""})}),(i,n)=>t.value?(c(),u("div",G,r(t.value),1)):(c(),u("table",Y,[Z,e("tbody",null,[(c(!0),u(k,null,E(s.value,d=>(c(),u("tr",{key:d.id},[e("td",j,[o(R,{type:"block",id:d.blockNumber},{default:p(()=>[h(r(d.blockNumber),1)]),_:2},1032,["id"]),h(" / "+r(d.logIndex),1)]),e("td",q,r(d.display),1)]))),128))])]))}});const se=$(ee,[["__scopeId","data-v-b368cd20"]]),de=m({__name:"Register",setup(a){console.log("Register.vue",f().params.address);let _=f().params.address.toString();const s=H(()=>_);return(t,l)=>(c(),z(F,null,{default:p(()=>[o(S,{address:s.value},null,8,["address"]),o(M,{multiple:""},{default:p(()=>[o(y,{class:"mt-4",title:"Holders",eager:""},{default:p(()=>[o(x,null,{default:p(()=>[o(W,{address:s.value},null,8,["address"])]),_:1})]),_:1}),o(y,{class:"mt-4",title:"Events",eager:""},{default:p(()=>[o(x,null,{default:p(()=>[o(se,{address:s.value},null,8,["address"])]),_:1})]),_:1})]),_:1})]),_:1}))}});export{de as default};
