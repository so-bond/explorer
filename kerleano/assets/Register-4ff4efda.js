import{O as N,P as A,Q as E,y as b,B as X,A as L,H as g,R as _,U as Ie,J as $,K as l,W as d,X as Ae,f as Pe,Y as we,Z as R,M as t,$ as D,a0 as I,a1 as q,a2 as w,a3 as Ne,a4 as Ee,a5 as Le,a6 as $e,a7 as Re,a8 as De,a9 as Te,aa as je,ab as Be,ac as Oe,ad as Ue,ae as Me,af as Fe,ag as Ge,ah as ze,ai as Ke,aj as He,ak as Je,al as We,am as Xe,an as qe,ao as Ye,ap as Qe,aq as Ze,ar as ea,as as aa,at as ta,r as x,l as na,au as la,av as r,z as p,aw as k,ax as C,ay as sa,az as ia,aA as da,aB as v,aC as U,aD as M,aE as oa,aF as ua,aG as ra,aH as ca,aI as fa,aJ as va,aK as ma}from"./index-272744bb.js";import{V as F,a as G,b as z,c as pa,d as ga}from"./VExpansionPanel-393e64e2.js";import{b as P,u as K}from"./index-681a1f42.js";const Y=(()=>P.reduce((e,o)=>(e[o]={type:[Boolean,String,Number],default:!1},e),{}))(),Q=(()=>P.reduce((e,o)=>{const a="offset"+N(o);return e[a]={type:[String,Number],default:null},e},{}))(),Z=(()=>P.reduce((e,o)=>{const a="order"+N(o);return e[a]={type:[String,Number],default:null},e},{}))(),H={col:Object.keys(Y),offset:Object.keys(Q),order:Object.keys(Z)};function ya(e,o,a){let n=e;if(!(a==null||a===!1)){if(o){const i=o.replace(e,"");n+=`-${i}`}return e==="col"&&(n="v-"+n),e==="col"&&(a===""||a===!0)||(n+=`-${a}`),n.toLowerCase()}}const _a=["auto","start","end","center","baseline","stretch"],u=A()({name:"VCol",props:{cols:{type:[Boolean,String,Number],default:!1},...Y,offset:{type:[String,Number],default:null},...Q,order:{type:[String,Number],default:null},...Z,alignSelf:{type:String,default:null,validator:e=>_a.includes(e)},...E()},setup(e,o){let{slots:a}=o;const n=b(()=>{const i=[];let s;for(s in H)H[s].forEach(f=>{const y=e[f],c=ya(s,f,y);c&&i.push(c)});const m=i.some(f=>f.startsWith("v-col-"));return i.push({"v-col":!m||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),i});return()=>{var i;return X(e.tag,{class:n.value},(i=a.default)==null?void 0:i.call(a))}}}),T=["start","end","center"],ee=["space-between","space-around","space-evenly"];function j(e,o){return P.reduce((a,n)=>{const i=e+N(n);return a[i]=o(),a},{})}const ha=[...T,"baseline","stretch"],ae=e=>ha.includes(e),te=j("align",()=>({type:String,default:null,validator:ae})),ba=[...T,...ee],ne=e=>ba.includes(e),le=j("justify",()=>({type:String,default:null,validator:ne})),ka=[...T,...ee,"stretch"],se=e=>ka.includes(e),ie=j("alignContent",()=>({type:String,default:null,validator:se})),J={align:Object.keys(te),justify:Object.keys(le),alignContent:Object.keys(ie)},Ca={align:"align",justify:"justify",alignContent:"align-content"};function Sa(e,o,a){let n=Ca[e];if(a!=null){if(o){const i=o.replace(e,"");n+=`-${i}`}return n+=`-${a}`,n.toLowerCase()}}const Va=A()({name:"VRow",props:{dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:ae},...te,justify:{type:String,default:null,validator:ne},...le,alignContent:{type:String,default:null,validator:se},...ie,...E()},setup(e,o){let{slots:a}=o;const n=b(()=>{const i=[];let s;for(s in J)J[s].forEach(m=>{const f=e[m],y=Sa(s,m,f);y&&i.push(y)});return i.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),i});return()=>{var i;return X(e.tag,{class:["v-row",n.value]},(i=a.default)==null?void 0:i.call(a))}}});var de=(e=>(e[e.Draft=0]="Draft",e[e.Ready=1]="Ready",e[e.Issued=2]="Issued",e[e.Repaid=3]="Repaid",e[e.Frozen=4]="Frozen",e))(de||{});const xa=["href"],W=L({__name:"ExplorerRedirect",props:{id:{type:[String,Number]},type:{type:String,required:!0,validator(e){return["block","tx","token","account"].includes(e)}}},setup(e){const o=e;function a(){const s=window;if(s.AppConfig&&s.AppConfig.explorerUrl)return s.AppConfig.explorerUrl}const n=b(()=>{let s=a();if(!s)return"./";for(;s.endsWith("/");)s=s.slice(0,s.length-1);return new URL(`${o.type}/${o.id}`,`${s}/`).href});function i(s){window.open(s,"POCR-EXPLORER")}return(s,m)=>(g(),_("span",null,[s.$slots.default?(g(),_("a",{key:0,href:n.value,target:"POCR-EXPLORER"},[Ie(s.$slots,"default")],8,xa)):(g(),$(Ae,{key:1,small:"",color:"blue",onClick:m[0]||(m[0]=f=>i(n.value))},{default:l(()=>[d("mdi-open-in-new")]),_:1}))]))}});const Ia=Pe({name:"VCardActions",setup(e,o){let{slots:a}=o;return we({VBtn:{variant:"text"}}),R(()=>{var n;return t("div",{class:"v-card-actions"},[(n=a.default)==null?void 0:n.call(a)])}),{}}}),oe=D("v-card-subtitle"),Aa=D("v-card-title"),Pa=A()({name:"VCardItem",props:{appendAvatar:String,appendIcon:I,prependAvatar:String,prependIcon:I,subtitle:String,title:String,...q()},setup(e,o){let{slots:a}=o;return R(()=>{var c;const n=!!(e.prependAvatar||e.prependIcon),i=!!(n||a.prepend),s=!!(e.appendAvatar||e.appendIcon),m=!!(s||a.append),f=!!(e.title||a.title),y=!!(e.subtitle||a.subtitle);return t("div",{class:"v-card-item"},[i&&t("div",{key:"prepend",class:"v-card-item__prepend"},[a.prepend?t(w,{key:"prepend-defaults",disabled:!n,defaults:{VAvatar:{density:e.density,icon:e.prependIcon,image:e.prependAvatar}}},a.prepend):n&&t(F,{key:"prepend-avatar",density:e.density,icon:e.prependIcon,image:e.prependAvatar},null)]),t("div",{class:"v-card-item__content"},[f&&t(Aa,{key:"title"},{default:()=>{var h;return[((h=a.title)==null?void 0:h.call(a))??e.title]}}),y&&t(oe,{key:"subtitle"},{default:()=>{var h;return[((h=a.subtitle)==null?void 0:h.call(a))??e.subtitle]}}),(c=a.default)==null?void 0:c.call(a)]),m&&t("div",{key:"append",class:"v-card-item__append"},[a.append?t(w,{key:"append-defaults",disabled:!s,defaults:{VAvatar:{density:e.density,icon:e.appendIcon,image:e.appendAvatar}}},a.append):s&&t(F,{key:"append-avatar",density:e.density,icon:e.appendIcon,image:e.appendAvatar},null)])])}),{}}}),ue=D("v-card-text"),wa=A()({name:"VCard",directives:{Ripple:Ne},props:{appendAvatar:String,appendIcon:I,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:I,ripple:{type:Boolean,default:!0},subtitle:String,text:String,title:String,...Ee(),...Le(),...q(),...$e(),...Re(),...De(),...Te(),...je(),...Be(),...Oe(),...E(),...Ue({variant:"elevated"})},setup(e,o){let{attrs:a,slots:n}=o;const{themeClasses:i}=Me(e),{borderClasses:s}=Fe(e),{colorClasses:m,colorStyles:f,variantClasses:y}=Ge(e),{densityClasses:c}=ze(e),{dimensionStyles:h}=Ke(e),{elevationClasses:ce}=He(e),{loaderClasses:fe}=Je(e),{locationStyles:ve}=We(e),{positionClasses:me}=Xe(e),{roundedClasses:pe}=qe(e),S=Ye(e,a),ge=b(()=>e.link!==!1&&S.isLink.value),V=b(()=>!e.disabled&&e.link!==!1&&(e.link||S.isClickable.value));return R(()=>{const ye=ge.value?"a":e.tag,_e=!!(n.title||e.title),he=!!(n.subtitle||e.subtitle),be=_e||he,ke=!!(n.append||e.appendAvatar||e.appendIcon),Ce=!!(n.prepend||e.prependAvatar||e.prependIcon),Se=!!(n.image||e.image),Ve=be||Ce||ke,xe=!!(n.text||e.text);return Qe(t(ye,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":V.value},i.value,s.value,m.value,c.value,ce.value,fe.value,me.value,pe.value,y.value],style:[f.value,h.value,ve.value],href:S.href.value,onClick:V.value&&S.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var B;return[Se&&t("div",{key:"image",class:"v-card__image"},[n.image?t(w,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):t(ea,{key:"image-img",cover:!0,src:e.image},null)]),t(aa,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:n.loader}),Ve&&t(Pa,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:n.item,prepend:n.prepend,title:n.title,subtitle:n.subtitle,append:n.append}),xe&&t(ue,{key:"text"},{default:()=>{var O;return[((O=n.text)==null?void 0:O.call(n))??e.text]}}),(B=n.default)==null?void 0:B.call(n),n.actions&&t(Ia,null,{default:n.actions}),ta(V.value,"v-card")]}}),[[Ze("ripple"),V.value&&e.ripple]])}),{}}}),re=e=>(fa("data-v-78522930"),e=e(),va(),e),Na={key:0},Ea={key:0,class:"w-100"},La=re(()=>v("thead",null,[v("tr",null,[v("th",null,"control by"),v("th",null,"holder address"),v("th",null,"balance")])],-1)),$a={class:"text-caption"},Ra={class:"text-caption"},Da={key:1},Ta=re(()=>v("thead",null,[v("tr",null,[v("th",null,"id"),v("th",null,"event")])],-1)),ja={class:"text-caption",style:{width:"85px","vertical-align":"top"}},Ba={class:"text-caption"},Oa={key:1},Ua=L({__name:"RegisterDetails",props:{address:String},setup(e){const o=e,a=x(void 0),n=x([]),i=x([]),s=x(""),m=async f=>{s.value="";try{f?(a.value=await oa(f),n.value=await ua(f),i.value=await ra(f)):(a.value=void 0,n.value=[],i.value=[],s.value="No register selected")}catch(y){console.log("Exception when loading the register",y),a.value=void 0,n.value=[],i.value=[],s.value=y.message}};return na(()=>o.address,async f=>{await m(f)}),la(()=>{m(o.address)}),(f,y)=>a.value?(g(),_("div",Na,[a.value?(g(),$(wa,{key:0},{default:l(()=>[t(oe,null,{default:l(()=>[d("address: "+r(e.address),1),t(W,{type:"token",id:e.address},null,8,["id"])]),_:1}),t(ue,null,{default:l(()=>[t(Va,null,{default:l(()=>[t(u,{cols:"2"},{default:l(()=>[d("Name:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(a.value.name),1)]),_:1}),t(u,{cols:"2"},{default:l(()=>[d("ISIN:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(a.value.isin),1)]),_:1}),t(u,{cols:"2"},{default:l(()=>[d("Units:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(p(k)(a.value.expectedSupply))+" x "+r(p(k)(a.value.unitValue))+" "+r(a.value.currency),1)]),_:1}),t(u,{cols:"2"},{default:l(()=>[d("Supply expected:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(p(k)(a.value.expectedSupply*a.value.unitValue))+" "+r(a.value.currency),1)]),_:1}),t(u,{cols:"2"},{default:l(()=>[d("Coupon rate:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(a.value.couponRate)+" % p.a.",1)]),_:1}),t(u,{cols:"2"},{default:l(()=>[d("Current supply:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(p(k)(a.value.currentSupply*a.value.unitValue))+" "+r(a.value.currency),1)]),_:1}),t(u,{cols:"2"},{default:l(()=>[d("Status:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(p(de)[a.value.status]),1)]),_:1}),t(u,{cols:"2"},{default:l(()=>[d("Creation:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(p(C)(a.value.creationDate)),1)]),_:1}),t(u,{cols:"2"},{default:l(()=>[d("Issuance:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(p(C)(a.value.issuanceDate)),1)]),_:1}),t(u,{cols:"2"},{default:l(()=>[d("Maturity:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(p(C)(a.value.maturityDate)),1)]),_:1}),t(u,{cols:"2"},{default:l(()=>[d("Coupons:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(a.value.couponDates.map(c=>p(C)(c)).join(" | ")),1)]),_:1}),t(u,{cols:"2"},{default:l(()=>[d("Record time:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(p(sa)(a.value.cutOffTime)),1)]),_:1}),t(u,{cols:"2"},{default:l(()=>[d("Next coupon date:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(p(C)(a.value.currentCouponDate)),1)]),_:1}),t(u,{cols:"2"},{default:l(()=>[d("Next snapshot at:")]),_:1}),t(u,{cols:"4"},{default:l(()=>[d(r(p(ia)(a.value.currentSnapshotTimestamp)),1)]),_:1})]),_:1})]),_:1})]),_:1})):da("",!0),t(pa,null,{default:l(()=>[t(G,{class:"mt-4",title:"Holders"},{default:l(()=>[t(z,null,{default:l(()=>[i.value.length>0?(g(),_("table",Ea,[La,v("tbody",null,[(g(!0),_(U,null,M(i.value,c=>(g(),_("tr",{key:c.address},[v("td",$a,r(c.custodian),1),v("td",{class:ca(["text-caption",c.allowed?"":"text-decoration-line-through"])},r(c.address),3),v("td",Ra,r(p(k)(c.balance*a.value.unitValue))+" "+r(a.value.currency),1)]))),128))])])):(g(),_("div",Da,"No investor"))]),_:1})]),_:1}),t(G,{class:"mt-4",title:"Events"},{default:l(()=>[t(z,null,{default:l(()=>[v("table",null,[Ta,v("tbody",null,[(g(!0),_(U,null,M(n.value,c=>(g(),_("tr",{key:c.id},[v("td",ja,[t(W,{type:"block",id:c.blockNumber},{default:l(()=>[d(r(c.blockNumber),1)]),_:2},1032,["id"]),d(" / "+r(c.logIndex),1)]),v("td",Ba,r(c.display),1)]))),128))])])]),_:1})]),_:1})]),_:1})])):(g(),_("div",Oa,r(s.value),1))}});const Ma=ma(Ua,[["__scopeId","data-v-78522930"]]),Ka=L({__name:"Register",setup(e){console.log("Register.vue",K().params.address);let o=K().params.address.toString();const a=b(()=>o);return(n,i)=>(g(),$(ga,null,{default:l(()=>[t(Ma,{address:a.value},null,8,["address"])]),_:1}))}});export{Ka as default};
